!function(t){"use strict";var e={filterOptionInList:function(n,i){var o=15,c=0,s=13;t(n).keydown(function(a){var r=t(this).find(".custom-select-list");if(a.which===s)t(r).removeClass("focused"),t(".custom-select-option").slideUp(i.animation);else if(a.which>64&&a.which<91||a.which>47&&a.which<58||a.which>95&&a.which<106){var l=[],u=String.fromCharCode(a.which),h=u.toLowerCase(),d=0;if(t(r).removeClass("focused"),t(r).each(function(e,n){(t(n).text().trim().charAt(0)===h||t(n).text().trim().charAt(0)===u)&&(l[d]=n,d++)}),0!==l.length){var p=t(this).find(".custom-select-option");o===a.which?(t(l).eq(c).addClass("focused"),e.showSelectedOption(n,i),c<l.length-1?c++:c=0):(t(l).eq(0).addClass("focused"),e.showSelectedOption(n,i),c=0,1===l.length?c=0:c++);var f=t(this).find(".focused").index(),m=t(this).find(".custom-select-list").innerHeight();p.scrollTop(f*m)}o=a.which}})},viewOptions:function(n,i){var o=t(n).parent(".custom-select-wrapper");o.click(function(n){n.stopPropagation();var c=t(this),s=o.children(".custom-select-option"),a=c.children(".custom-select-option"),r=c.children("select").attr("disabled");"undefined"==typeof r&&(t(s).not(c.children(".custom-select-option")).slideUp(i.animation),c.attr("tabindex","1"),c.focus(),a.slideToggle(i.animation),e.filterOptionInList(c,i),t(document).click(function(){a.slideUp(i.animation)}),e.showSelectedOption(c,i))})},updateHtmlOption:function(e){var n=t(e).parent().siblings("select").children("option");t(n).each(function(){t(this).text()===t(e).text()&&(t(this).prop("selected",!0),t(n).not(t(this)).each(function(){t(this).removeProp("selected")}),t(this).parent("select").change())})},showSelectedOption:function(n,i){var o=t(n).children(".custom-select-option").children(".custom-select-list"),c=t(n).children().next(".custom-select-holder"),s=function(t){var o=t.attr("style");c.text(t.text()),i.showImageOnHolder&&n.attr("style",o),e.updateHtmlOption(t)};o.each(function(){if(t(this).hasClass("focused")){var e=t(this);s(e)}}),o.click(function(e){e.stopImmediatePropagation(),t(o).removeClass("focused");var n=t(this);s(n),n.parent().slideUp(i.animation)})},imageStyle:function(t,e){t.css({"background-image":"url("+e+")","background-size":"20px 20px","background-position":"10px center","background-repeat":"no-repeat","padding-left":"40px",transition:"none"})},generateOption:function(n,i){var o=t("<ul></ul>").attr("class","custom-select-option"),c=t(n).children("option");t(c).each(function(n){var i=t("<li></li>").attr("class","custom-select-list"),s=t(c[n]).attr("data-url");i.append(t(c[n]).text()),s&&e.imageStyle(i,s),t(o).append(i)}),t(i).append(o)},initialSelected:function(n,i){var o=t(n).find(":selected"),c=t(o).attr("data-url");t(n).next(".custom-select-holder").text(o.text()),c&&i.showImageOnHolder&&e.imageStyle(t(n).parent(),c)},makeCanvas:function(){var e=t(".custom-select-wrapper"),n=e.outerHeight(),i=e.find("ul");this.calcTop=function(){i.css({top:n-1+"px"})},this.init=function(){this.calcTop()}},wrapElement:function(n,i){t(n).each(function(){var n=t(this);n.wrap(t("<span></span>").attr("class","custom-select-wrapper")),n.after("<span class='custom-select-holder'></span>"),e.initialSelected(n,i);var o=n.parent(".custom-select-wrapper");e.generateOption(n,o)})},tabFocus:function(e){var n=function(e,n){var i=e,o=9;t(window).keyup(function(t){var e=t.keyCode?t.keyCode:t.which;e===o&&i.parent().css(n)})};e.on("focusout",function(){var e={outline:"none",height:""};n(t(this),e)}),e.on("focus",function(){var e={outline:"1px solid #5264AE"};n(t(this),e)})},windowResize:function(n,i){t(window).resize(function(){var t=new e.makeCanvas(n,i);t.calcTop()})},init:function(t,n){e.wrapElement(t,n),e.viewOptions(t,n);var i=new e.makeCanvas(t,n);i.init(),e.windowResize(t,n),e.tabFocus(t)}};t.fn.CustomSelect=function(n){var i={theme:"default",showImageOnHolder:!0,animation:"fast",borderColor:"#5264AE"},o=t.extend(i,n);e.init(this,o)}}(jQuery);