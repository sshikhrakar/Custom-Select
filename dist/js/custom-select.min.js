!function(t){"use strict";var e={filterOptionInList:function(i,n){var o=15,s=0,c=13;t(i).keydown(function(a){var l=t(this).find(".custom-select-list");if(a.which===c)t(l).removeClass("focused"),t(".custom-select-option").slideUp(n.animation);else if(a.which>64&&a.which<91||a.which>47&&a.which<58||a.which>95&&a.which<106){var r=[],u=String.fromCharCode(a.which),h=u.toLowerCase(),d=0;if(t(l).removeClass("focused"),t(l).each(function(e,i){(t(i).text().trim().charAt(0)===h||t(i).text().trim().charAt(0)===u)&&(r[d]=i,d++)}),0!==r.length){var p=t(this).find(".custom-select-option");o===a.which?(t(r).eq(s).addClass("focused"),e.showSelectedOption(i,n),s<r.length-1?s++:s=0):(t(r).eq(0).addClass("focused"),e.showSelectedOption(i,n),s=0,1===r.length?s=0:s++);var f=t(this).find(".focused").index(),m=t(this).find(".custom-select-list").innerHeight();p.scrollTop(f*m)}o=a.which}})},toggleOptions:function(i,n){var o=t(i).parent(".custom-select-wrapper");o.click(function(i){i.stopPropagation();var s=t(this),c=o.children(".custom-select-option"),a=s.children(".custom-select-option"),l=s.children("select").attr("disabled");"undefined"==typeof l&&(t(c).not(s.children(".custom-select-option")).slideUp(n.animation),s.attr("tabindex","1"),s.focus(),a.slideToggle(n.animation),e.filterOptionInList(s,n),t(document).click(function(){a.slideUp(n.animation)}),e.showSelectedOption(s,n))})},updateHtmlOption:function(e){var i=t(e).parent().siblings("select").children("option");t(i).each(function(){t(this).text()===t(e).text()&&(t(this).prop("selected",!0),t(i).not(t(this)).each(function(){t(this).removeProp("selected")}),t(this).parent("select").change())})},showSelectedOption:function(i,n){var o=t(i).children(".custom-select-option").children(".custom-select-list"),s=t(i).children().next(".custom-select-holder"),c=function(t){var i=t.attr("style");s.text(t.text()),n.showImageOnHolder&&s.attr("style",i),e.updateHtmlOption(t)};o.each(function(){if(t(this).hasClass("focused")){var e=t(this);c(e)}}),o.click(function(e){e.stopImmediatePropagation(),t(o).removeClass("focused");var i=t(this);c(i),i.parent().slideUp(n.animation)})},imageStyle:function(t,e){t.css({"background-image":"url("+e+")"}),t.addClass("image-on-option")},generateOption:function(i,n){var o=t("<ul></ul>").attr("class","custom-select-option"),s=t(i).children("option");t(s).each(function(i){var n=t("<li></li>").attr("class","custom-select-list"),c=t(s[i]).attr("data-url");n.append(t(s[i]).text()),c&&e.imageStyle(n,c),t(o).append(n)}),t(n).append(o)},initialSelected:function(i,n){var o=t(i).find(":selected"),s=t(o).attr("data-url"),c=t(i).next(".custom-select-holder");c.text(o.text()),s&&n.showImageOnHolder&&e.imageStyle(c,s)},makeCanvas:function(){var e=t(".custom-select-wrapper"),i=e.outerHeight(),n=e.find("ul");this.calcTop=function(){n.css({top:i-1+"px"})},this.init=function(){this.calcTop()}},wrapElement:function(i,n){t(i).each(function(){var i=t(this);i.wrap(t("<span></span>").attr("class","custom-select-wrapper")),i.after("<span class='custom-select-holder'></span>"),e.initialSelected(i,n);var o=i.parent(".custom-select-wrapper");e.generateOption(i,o)})},tabFocus:function(e){var i=function(e,i){var n=e,o=9;t(window).keyup(function(t){var e=t.keyCode?t.keyCode:t.which;e===o&&n.parent().css(i)})};e.on("focusout",function(){var e={outline:"none",height:""};i(t(this),e)}),e.on("focus",function(){var e={outline:"1px solid #5264AE"};i(t(this),e)})},windowResize:function(i,n){t(window).resize(function(){var t=new e.makeCanvas(i,n);t.calcTop()})},init:function(t,i){e.wrapElement(t,i),e.toggleOptions(t,i);var n=new e.makeCanvas(t,i);n.init(),e.windowResize(t,i),e.tabFocus(t)}};t.fn.CustomSelect=function(i){var n={theme:"default",showImageOnHolder:!0,animation:"fast",borderColor:"#5264AE"},o=t.extend(n,i);e.init(this,o)}}(jQuery);