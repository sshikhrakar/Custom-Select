!function(t){"use strict";var e={filterOptionInList:function(o){var s=15,n=0,i=13;t(o).keydown(function(c){var a=t(this).find(".custom-select-list");if(c.which===i)t(a).removeClass("focused"),t(".custom-select-option").slideUp();else if(c.which>64&&c.which<91||c.which>47&&c.which<58||c.which>95&&c.which<106){var r=[],l=String.fromCharCode(c.which),d=l.toLowerCase(),u=0;if(t(a).removeClass("focused"),t(a).each(function(e,o){(t(o).text().trim().charAt(0)===d||t(o).text().trim().charAt(0)===l)&&(r[u]=o,u++)}),0!==r.length){var p=t(this).find(".custom-select-option");s===c.which?(t(r).eq(n).addClass("focused"),e.showSelectedOption(o),n<r.length-1?n++:n=0):(t(r).eq(0).addClass("focused"),e.showSelectedOption(o),n=0,1===r.length?n=0:n++);var h=t(this).find(".focused").index(),f=t(this).find(".custom-select-list").innerHeight();p.scrollTop(h*f)}s=c.which}})},viewOptions:function(o){var s=t(o).parent(".custom-select-wrapper");s.click(function(o){o.stopPropagation();var s=t(this),n=s.children(".custom-select-option"),i=s.children("select").attr("disabled");"undefined"==typeof i&&(t(".custom-select-option").slideUp("fast"),s.attr("tabindex","1"),s.focus(),n.toggle(),e.filterOptionInList(s),t(document).click(function(){n.slideUp("fast")}),e.showSelectedOption(s))}),s.find(".custom-select-holder").mousedown(function(){t(this).css("outline","none")}),s.find(".custom-select-holder").mouseup(function(){t(this).css("outline","")})},updateHtmlOption:function(e){var o=t(e).parent().siblings("select").children("option");t(o).each(function(){t(this).text()===t(e).text()&&(t(this).prop("selected",!0),t(o).not(t(this)).each(function(){t(this).removeProp("selected")}),t(this).parent("select").change())})},showSelectedOption:function(o){var s=t(o).children(".custom-select-option").children(".custom-select-list"),n=t(o).children().next(".custom-select-holder");s.each(function(){if(t(this).hasClass("focused")){var o=t(this).attr("style");n.text(t(this).text()).css({background:"","padding-left":"0px"}).attr("style",o),e.updateHtmlOption(t(this))}}),s.click(function(o){o.stopPropagation();var i=t(this).attr("style");t(s).removeClass("focused"),n.text(t(this).text()).css({background:"","padding-left":"0px"}).next(".custom-select-holder").attr("style",i),e.updateHtmlOption(t(this)),t(this).parent().slideUp("fast")})},generateOption:function(e,o){var s=t("<ul></ul>").attr("class","custom-select-option"),n=t(e).children("option");t(n).each(function(e){var o=t("<li></li>").attr("class","custom-select-list"),i=t(n[e]).attr("data-url");o.append(t(n[e]).text()),i&&o.css({"background-image":"url("+i+")","background-size":"20px 20px","background-position":"10px center","background-repeat":"no-repeat","padding-left":"40px"}),t(s).append(o)}),t(o).append(s)},initialSelected:function(e){var o=t(e).find(":selected"),s=t(o).attr("data-url");t(e).next(".custom-select-holder").text(o.text()),s&&t(e).next(".custom-select-holder").css({"background-image":"url("+s+")","background-size":"20px 20px","background-position":"10px center","background-repeat":"no-repeat","padding-left":"40px"})},makeCanvas:function(){var e=t(".custom-select-wrapper"),o=e.outerHeight(),s=e.find("ul");e.css({height:o+"px"}),s.css({top:o+"px"})},wrapElement:function(o){t(o).each(function(){var o=t(this);o.wrap(t("<span></span>").attr("class","custom-select-wrapper")),o.after("<span class='custom-select-holder'></span>"),e.initialSelected(o);var s=o.parent(".custom-select-wrapper");e.generateOption(o,s)})},tabFocus:function(e){e.on("focusout",function(){var e=t(this);t(window).keyup(function(t){var o=t.keyCode?t.keyCode:t.which;9===o&&e.parent().css({border:"none","border-bottom":"1px solid #5264AE"})})}),e.on("focus",function(){var e=t(this);t(window).keyup(function(t){var o=t.keyCode?t.keyCode:t.which;9===o&&e.parent().css({border:"1px dotted #d4d4d4","border-bottom":"1px solid #5264AE"})})})},init:function(t,o){e.wrapElement(t),e.viewOptions(t),e.makeCanvas(t,o),e.tabFocus(t)}};t.fn.CustomSelect=function(o){var s={theme:"default",borderColor:"#5264AE"},n=t.extend(s,o);e.init(this,n)}}(jQuery);